<p class="text-center">Nuevo {{newCodigo.tabla}}</p>

<div class="alert alert-danger alert-dismissible fade show" role="alert" ng-if="newCodigo.isError">
	Codigo {{newCodigo.codigo}} ya existe.
</div>

<form name="formCodigo">
	<div class="row">
		<div class="form-group col-3">
			<label>CÃ³digo</label>
			<input  type="text" class="form-control" ng-model="newCodigo.codigo" name="formCodigoCodigo"
					ng-change="checkCodigo()" minlength="2" required>
		</div>
		<div class="form-group col-9">
			<label>Nombre</label>
			<input type="text" class="form-control" ng-model="newCodigo.nombre" required>
		</div>
	</div>
	<div class="row" ng-if="newCodigo.tabla == 'guia'">
		<div class="form-group col">
			<label>Idiomas {{ newCodigo.idiomas.toString() }}</label>
			<select multiple class="form-control" ng-model="newCodigo.idiomas">
				<option ng-repeat="item in pdus  | filter:'idioma'" value="{{item.codigo}}" ng-selected="{{item.codigo == newCodigo.idiomas}}">{{item.nombre}}</option>
			</select>
		</div>
	</div>
	<div ng-if="newCodigo.tabla == 'proveedor'">
		<div class="row">
			<div class="form-group col">
				<label>Identificacion</label>
				<input type="text" class="form-control" ng-model="newCodigo.identificacion">
			</div>
		</div>
		<div class="row">
			<div class="form-group col">
				<label>Direccion</label>
				<input type="text" class="form-control" ng-model="newCodigo.direccion">
			</div>
		</div>
		<div class="row">
			<div class="form-group col">
				<label>Poblacion</label>
				<input type="text" class="form-control" ng-model="newCodigo.poblacion">
			</div>
		</div>
		<div class="row">
			<div class="form-group col">
				<label>Provincia</label>
				<select class="form-control" ng-model="newCodigo.provincia">
					<option ng-repeat="item in pdus  | filter:'provincia'" value="{{item.codigo}}" ng-selected="{{item.codigo == newCodigo.provincia}}">{{item.nombre}}</option>
				</select>
			</div>
			<div class="form-group col">
				<label>C. Postal</label>
				<input type="text" class="form-control" ng-model="newCodigo.codigopostal">
			</div>
		</div>
	</div>
	<div class="row">
		<div class="form-group col">
			<label>Observaciones</label>
			<textarea class="form-control" rows="3" ng-model="newCodigo.observaciones"></textarea>
		</div>
	</div>

	
	<div class="row">
		<div class="col">
			<button class="btn btn-danger" ng-click="cancelCodigo()">Cancelar</button>
		</div>
		<div class="col">
			<button class="btn btn-primary float-right" ng-click="addCodigo()" ng-disabled="formCodigo.$invalid || newCodigo.isError">Guardar</button>
		</div>
	</div>
	<br/>
</form>